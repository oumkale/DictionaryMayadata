{% load static %}
<!DOCTYPE html>
<html lang="zxx">


<head>

    <!-- Meta -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1">

    <!-- Title -->
    <title> Mayadata Dictionary Search</title>

    <!-- Favicon -->
    <link href="images/favicon.ico" rel="icon" type="image/dict" />

    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i%7CLato:100,100i,300,300i,400,400i,700,700i,900,900i"
        rel="stylesheet" />
    <link href="{% static 'css/font-awesome.min.css' %}" rel="stylesheet" type="text/css" />

    <!-- Mobile Menu -->
    <link href="{% static 'css/mmenu.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'css/mmenu.positioning.css' %}" rel="stylesheet" type="text/css" />

    <link rel="stylesheet" type="text/css" href="{% static 'css/jquery.accordion.css' %}">

    <link href="{% static 'style.css' %}" rel="stylesheet" type="text/css" />

</head>

<body>

    <!-- Star
        <!-- End: Header Section -->

    <!-- Start: Page Banner -->
    <section class="page-banner news-listing-banner services-banner">
        <div class="container">
            <div class="banner-header">
                <h1 style="color: rgba(255, 255, 255, 0.712);">Mayadata Dictonary </h1>

                <span class="underline center"></span>
                <p class="lead">Search Any Word.</p>
            </div>
        </div>
    </section>
    <!-- End: Page Banner -->

    <!-- Start: Products Section -->
    <div id="content" class="site-content">
        <div id="primary" class="content-area">
            <main id="main" class="site-main">
                <div class="main-news-list">
                    <div class="container">
                        <!-- Start: Search Section -->
                        <section class="search-filters">
                            <div class="filter-box">
                                <h3>Enter your dictionary search term.</h3>
                                <div class="row" style="text-align: center;">
                                    <div class="col-xs-12 col-sm-12" style="text-align: center; display: block;">
                                        <i id="search-icon" class="fa fa-search" style="font-size: 25px; margin-bottom: 1rem;"></i>
                                        <div style="text-align: center; display: block; margin-left: 20%; margin-right: 20%;">
                                            <input id="word-search" placeholder="Search" style="width: 100%; text-align: center; display: block; padding: 1rem; border: 3px solid black; border-radius: 25px;">
                                            <div id="result" style="width: 100%; text-align: center; display: block; color: rgb(51, 51, 51); font-weight: bolder; font-style: italic;"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row" style="text-align: center;">
                                    <div class="col-xs-12 col-sm-12" style="text-align: center; display: block;">
                                        <div id="word-meaning" style="text-align: center; display: block; margin-left: 20%; margin-right: 20%; margin-top: 2rem; background-color: rgba(138, 138, 138, 0.493);">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="clear"></div>
                        </section>
                        <!-- End: Search Section -->

                    </div>
                </div>
            </main>
        </div>
    </div>
    <section class="who-we-are">
        <div class="company-info">
            <div class="container">
                <div class="row">
                    <div class="col-sm-8 border">
                        <div class="row">
                            <div class="col-sm-11">
                                <div class="company-detail">
                                    <h3 class="section-title">I am Oum,</h3>
                                    <span class="underline left"></span>
                                    <p>How to use a dictionary effectively
                                        Reasons for using a dictionary
                                        A dictionary is a very important tool for anyone who is learning a new language.
                                        With a good dictionary you can do the following:

                                        look up the meaning of an English word you see or hear
                                        find the English translation of a word in your language
                                        check the spelling of a word
                                        check the plural of a noun or past tense of a verb
                                        find out other grammatical information about a word
                                        find the synonym or antonym of a word
                                        look up the collocations of a word
                                        check the part of speech of a word
                                        find out how to say a word
                                        find out about the register of a word
                                        find examples of the use of a word in natural language
                                        To be a good dictionary user, however, it is not enough to know what to use the
                                        dictionary for. You must also decide which is the best dictionary for any of the
                                        purposes listed above. As well as this, you need to be able to find what you are
                                        looking for quickly; you need to be sure that you have found what you were
                                        looking for; and, most importantly, you need to know when to use your
                                        dictionary.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="company-image"></div>
        </div>
    </section>
    <!-- End: Social Network -->

    <footer class="site-footer">
        <div class="container">
            <div id="footer-widgets">
                <div class="row">
                    <div class="col-md-4 col-sm-6 widget-container">
                        <div id="text-2" class="widget widget_text">
                            <h3 class="footer-widget-title">Mayadata Dectionary</h3>
                            <br><br>
                            <div class="row">
                                <div class="col-sm-50">
                                    <div class="topbar-info">
                                        <a href="tel:+91 9975667652"><i class="fa fa-phone"></i>+91 9975667652</a>
                                        <span>/</span>
                                        <a href="mailto:imoumkale@gmail.com"><i
                                                class="fa fa-envelope"></i>imoumkale@gmail.com</a>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <div class="clearfix hidden-lg hidden-md hidden-xs tablet-margin-bottom"></div>

                    </div>
                </div>
            </div>

    </footer>

    <!-- End: Footer -->

    <!-- jQuery Latest Version 1.x -->
    <script type="text/javascript" src="{% static 'js/jquery-1.12.4.min.js' %}"></script>

    <!-- jQuery UI -->
    <script type="text/javascript" src="{% static 'js/jquery-ui.min.js' %}"></script>

    <!-- jQuery Easing -->
    <script type="text/javascript" src="{% static 'js/jquery.easing.1.3.js' %}"></script>

    <!-- Bootstrap -->
    <script type="text/javascript" src="{% static 'js/bootstrap.min.js' %}"></script>

    <!-- Mobile Menu -->
    <script type="text/javascript" src="{% static 'js/mmenu.min.js' %}"></script>

    <!-- Harvey - State manager for media queries -->
    <script type="text/javascript" src="{% static 'js/harvey.min.js' %}"></script>

    <!-- Waypoints - Load Elements on View -->
    <script type="text/javascript" src="{% static 'js/waypoints.min.js' %}"></script>

    <!-- Facts Counter -->
    <script type="text/javascript" src="{% static 'js/facts.counter.min.js' %}"></script>

    <!-- MixItUp - Category Filter -->
    <script type="text/javascript" src="{% static 'js/mixitup.min.js' %}"></script>

    <!-- Owl Carousel -->
    <script type="text/javascript" src="{% static 'js/owl.carousel.min.js' %}"></script>

    <!-- Accordion -->
    <script type="text/javascript" src="{% static 'js/accordion.min.js' %}"></script>

    <!-- Responsive Tabs -->
    <script type="text/javascript" src="{% static 'js/responsive.tabs.min.js' %}"></script>

    <!-- Responsive Table -->
    <script type="text/javascript" src="{% static 'js/responsive.table.min.js' %}"></script>

    <!-- Masonry -->
    <script type="text/javascript" src="{% static 'js/masonry.min.js' %}"></script>

    <!-- Carousel Swipe -->
    <script type="text/javascript" src="{% static 'js/carousel.swipe.min.js' %}"></script>

    <!-- bxSlider -->
    <script type="text/javascript" src="{% static 'js/bxslider.min.js' %}"></script>

    <!-- Custom Scripts -->
    <script type="text/javascript" src="{% static 'js/main.js' %}"></script>
    <script>
        const word = $("#word-search")
        const search_icon = $('#search-icon')
        const search_result = $('#result')
        const endpoint = ''
        const delay_by_in_ms = 700
        let scheduled_function = false

        let ajax_call = function (endpoint, request_parameters) {
            $.getJSON(endpoint, request_parameters)
                .done(response => {
                    // fade out the artists_div, then:
                    search_result.fadeTo('slow', 0).promise().then(() => {
                        // replace the HTML contents
                        search_result.html(response['html_from_view'])
                        // fade-in the div with new contents
                        search_result.fadeTo('slow', 1)
                        // stop animating search icon
                        search_icon.removeClass('blink')
                    })
                })
        }


        word.on('keyup', function () {

            const request_parameters = {
                q: $(this).val() // value of user_input: the HTML element with ID user-input
            }

            // start animating the search icon with the CSS class
            search_icon.addClass('blink')

            // if scheduled_function is NOT false, cancel the execution of the function
            if (scheduled_function) {
                clearTimeout(scheduled_function)
            }

            // setTimeout returns the ID of the function to be executed
            scheduled_function = setTimeout(ajax_call, delay_by_in_ms, endpoint, request_parameters)
        })
    </script>
    <script>
        $('#result').on('click', '.word-display', function (e) {
            e.preventDefault();
            const word = $(this).data('id')
            $.ajax({
                type: 'GET',
                url: 'get-meaning/' + word,
                success: function (json) {
                    console.log(json)
                    $('#result').empty();
                    $("#word-search").val('')
                    const div = $('#word-meaning');
                    div.empty();
                    div.append(
                        "<h2>" + json.word + "</h2>" + "<p>" + json.meaning + "</p>"
                        
                    )
                },
                error: function (json) {
                    console.log(json)
                    const div = $('#word-meaning');
                    div.empty();
                    div.append(
                        "<h2> Some error occured. Please reload </h2>"
                    )
                }
            })
        })
    </script>
    <script>
        $(document).ready(function () {
            $('#word-search').change(function (e) {
                const search = $(this)
                if (search.val().length == 0) {
                    $('#result').empty()
                }
            })
        })
    </script>
</body>
</html>
